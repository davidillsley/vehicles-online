@(businessChooseYourAddressForm: Form[models.domain.disposal_of_vehicle.BusinessChooseYourAddressModel], traderBusinessName: String, traderPostcode: String, dropDownOptions: Seq[(String, String)])(implicit lang: Lang, token: services.csrf_prevention.CSRF.Token)

@import helper._
@import utils.helpers.BaseTemplate._
@import views.html.helper.base._
@import views.html.common._
@import utils.helpers._
@import mappings.disposal_of_vehicle.BusinessChooseYourAddress._
@import controllers.disposal_of_vehicle.routes.BusinessChooseYourAddress
@import views.html.common.language
@import views.html.disposal_of_vehicle.main

@main(title = Messages("disposal_businessChooseYourAddress_title"),
    alternateLanguages = language(withLanguageCy = BusinessChooseYourAddress.withLanguageCy(), withLanguageEn = BusinessChooseYourAddress.withLanguageEn())
) {
    @errorsSummary(businessChooseYourAddressForm)

    @form(action = BusinessChooseYourAddress.submit) {

    @CSRFHelper.hiddenFormField

        @{/*
        	Removed according to changes 18/3/13
        	<h2>@Messages("disposal_businessChooseYourAddress_legend")</h2>
        */}
        
    	<dl class="summary-detail-list">
        	<dt>@Messages("disposal_businessChooseYourAddress_businessName_label")</dt>
        	<dd>@Messages("disposal_businessChooseYourAddress_businessName", traderBusinessName)</dd>
            <dt>@Messages("disposal_businessChooseYourAddress_postcode_label")</dt>
            <dd>@traderPostcode</dd>
    	</dl>
        	
        @if(dropDownOptions.isEmpty) {
        <h2>@Messages("disposal_businessChooseYourAddress_noaddressesfound")</h2>
        } else {
            @valtechSelect(businessChooseYourAddressForm(AddressSelectId),
                options = dropDownOptions.toSeq,
                args = Map('_label -> Messages("disposal_businessChooseYourAddress_addressSelect_label"))
            )
        }

        <br/>
        <a id="@EnterAddressManuallyButtonId" href="@controllers.disposal_of_vehicle.routes.EnterAddressManually.present()">@Messages("disposal_businessChooseYourAddress.manualAddressEntry")</a>
        
		@{/* Note primary button moved to first button as per https://www.gov.uk/service-manual/user-centered-design/resources/forms.html#buttons */}
        <div class="form-steps">
        	@if(!dropDownOptions.isEmpty) {
            <button id="@SelectId" type="submit" name="action" class="button">@Messages("disposal_businessChooseYourAddress.submitbutton")</button>
            }
            <a id="@BackId" href="@controllers.disposal_of_vehicle.routes.SetUpTradeDetails.present()" class="button-secondary">@Messages("disposal_businessChooseYourAddress.backbutton")</a>
        </div>

    }
}