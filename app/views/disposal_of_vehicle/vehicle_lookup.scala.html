@(data: models.domain.disposal_of_vehicle.TraderDetailsModel, vehicleLookupForm: Form[models.domain.disposal_of_vehicle.VehicleLookupFormModel])(implicit lang: Lang, token: play.filters.csrf.CSRF.Token)

@import helper._
@import utils.helpers.BaseTemplate._
@import views.html.helper.base._
@import views.html.common._
@import views.html.helper._
@import mappings.disposal_of_vehicle.VehicleLookup._
@import mappings.common.ReferenceNumber
@import mappings.common.RegistrationNumber

@main(Messages("disposal_vehiclelookup.title")) {
    @errorsSummary(vehicleLookupForm)

    @form(action = controllers.disposal_of_vehicle.routes.VehicleLookup.submit) {

    @CSRF.formField

		<div class="two-col clearfix">
		
			<div id="TraderDetails" class="TraderDetails first-col">
				<h2>@Messages("disposal_vehiclelookup.p2")</h2>

				<dl class="summary-detail-list">
					<dt>@Messages("disposal_vehiclelookup.tradernamelabel")</dt>
					<dd>@data.traderName</dd>
					<dt>@Messages("disposal_vehiclelookup.traderaddresslabel")</dt>
					<dd>@for(addr <- data.traderAddress.address) {@addr<br/>}</dd>
				</dl>
                
                @{/*
				<div class="form-steps">
					<a class="button-not-implemented" title="Edit disposal address" aria-disabled="true" disabled>@Messages("disposal_vehiclelookup.button2")</a></p>
				</div>
                */}
			</div>
			
			<div id="FindAVehicleDiv" class="second-col">
				<h2>@Messages("disposal_vehiclelookup.p1")</h2>
				
				@valtechInputText(vehicleLookupForm(RegistrationNumberId), args =
                    Map('_label -> Messages("disposal_vehiclelookup.vrninputlabel"),
                    'maxLength -> RegistrationNumber.MaxLength,
                    '_showConstraints -> false))
				
			    @valtechInputText(vehicleLookupForm(ReferenceNumberId), args =
                    Map('_label -> Messages("disposal_vehiclelookup.refnumlabel"),
                    '_showConstraints -> false,
                    //'pattern -> ReferenceNumber.Pattern, // [SKW] Taken off HTML5 validation - for accessibility Tony removed have 'title text as the screen reader reads it twice, the knock-on effect is that our custom validation messages aren't displayed so the user has no idea what is wrong.
                    'maxLength -> ReferenceNumber.MaxLength, // Must be set independently of the pattern as the pattern is only checked when the user submits.
                    //'title -> Messages("error.validDocumentReferenceNumber")
                    'title -> Messages("")
                ))

				@{/* Note primary button moved to first button as per https://www.gov.uk/service-manual/user-centered-design/resources/forms.html#buttons */}
				<div class="form-steps">
					<button id="@SubmitId" type="submit" name="action" class="button">@Messages("disposal_vehiclelookup.button")</button>
                    <a id="@BackId" href="@controllers.disposal_of_vehicle.routes.VehicleLookup.back" class="button-secondary">@Messages("disposal_vehiclelookup.backbutton")</a>
				</div>
			</div>
		
		</div>
    }
}