@(elements: helper.FieldElements)

@import helper._
@import utils.helpers.CryptoHelper
@import utils.helpers.EmptyTemplate._

@if(elements.hasErrors){ <div class="form-item validation"> } else { <li class="form-item"> }
    @if(elements.hasErrors){
        <p class="error">@elements.errors.mkString(", ")</p>
    }

    @if(elements.args.contains('prompt)){
        <div class="prompt helper-prompt">@Html(Messages(elements.args.get('prompt).get.toString))</div>
    }

    @elements.input

    @if(elements.args.contains('helper)){
        <p class="helper">@elements.args.get('helper).get.toString</p>
    }
</div>

@defining(elements.args.toMap.get('display).map(_.toString).getOrElse("yes") == elements.args.toMap.get('visibleOn).map(_.toString).getOrElse("yes") match {case true => "block" case _ => "none"}) { styleDisplay =>
    <div id="@{elements.args.toMap.get('id).map(_.toString + "_wrap").getOrElse("no-id")}" class="form-item form-other-detail" style="display: @styleDisplay;">
        @textarea(elements.field("other"), 'placeholder -> "If other please specify...")
    </div>
}