/* Carers Plugins */(function(e){var t=function(t){var n=null,r=e("#"+t),i=e("input[name="+t+"]");r.length?n=r:i!=undefined&&(n=i);return n};e.fn.autotab_magic=function(t){for(var n=0;n<this.length;n++){var r=n+1,i=n-1;n>0&&r<this.length?e(this[n]).autotab({target:e(this[r]),previous:e(this[i])}):n>0?e(this[n]).autotab({previous:e(this[i])}):e(this[n]).autotab({target:e(this[r])});(t!=null&&isNaN(t)&&t==e(this[n]).attr("id")||!isNaN(t)&&t==n)&&e(this[n]).focus()}return this};e.fn.autotab_filter=function(t){var n={format:"all",uppercase:!1,lowercase:!1,nospace:!1,pattern:null};typeof t=="string"||typeof t=="function"?n.format=t:e.extend(n,t);for(var r=0;r<this.length;r++)e(this[r]).bind("keyup",function(e){var t=this.value;switch(n.format){case"text":var r=new RegExp("[0-9]+","g");t=t.replace(r,"");break;case"alpha":var r=new RegExp("[^a-zA-Z]+","g");t=t.replace(r,"");break;case"number":case"numeric":var r=new RegExp("[^0-9]+","g");t=t.replace(r,"");break;case"alphanumeric":var r=new RegExp("[^0-9a-zA-Z]+","g");t=t.replace(r,"");break;case"custom":var r=new RegExp(n.pattern,"g");t=t.replace(r,"");break;case"all":default:if(typeof n.format=="function")var t=n.format(t)}if(n.nospace){var r=new RegExp("[ ]+","g");t=t.replace(r,"")}n.uppercase&&(t=t.toUpperCase());n.lowercase&&(t=t.toLowerCase());t!=this.value&&(this.value=t)})};e.fn.autotab=function(n){var r={format:"all",maxlength:2147483647,uppercase:!1,lowercase:!1,nospace:!1,target:null,previous:null,pattern:null};e.extend(r,n);typeof r.target=="string"&&(r.target=t(r.target));typeof r.previous=="string"&&(r.previous=t(r.previous));var i=e(this).attr("maxlength");r.maxlength==2147483647&&i!=2147483647?r.maxlength=i:r.maxlength>0?e(this).attr("maxlength",r.maxlength):r.target=null;r.format!="all"&&e(this).autotab_filter(r);return e(this).bind("keydown",function(e){e.which==8&&this.value.length==0&&r.previous&&r.previous.focus().val(r.previous.val())}).bind("keyup",function(t){var n=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(t.which!=8){var i=e(this).val();e.inArray(t.which,n)==-1&&i.length==r.maxlength&&r.target&&r.target.focus()}})}})(jQuery);